(function(t){function e(e){for(var n,r,o=e[0],u=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var u=i[o];0!==s[u]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"144e":function(t,e,i){},"1d38":function(t,e,i){"use strict";i("fc86")},4067:function(t,e,i){"use strict";i("144e")},"406a":function(t,e,i){},7768:function(t,e,i){"use strict";i("406a")},"86bb":function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("v-app-bar",{directives:[{name:"show",rawName:"v-show",value:!t.isRunningStudy,expression:"!isRunningStudy"}],attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink mr-3",attrs:{alt:"E-Q Logo",contain:"",src:i("cf05"),transition:"scale-transition",width:"40"}}),n("v-toolbar-title",[t._v("E-Q")])],1),n("v-spacer"),n("v-subheader",[t._v("offline questionnaire")])],1),n("v-main",{class:{"pa-0":t.isRunningStudy}},[n("v-container",{attrs:{fluid:""}},[t.selectedStudy?n("study-viewer",{attrs:{study:t.selectedStudy},on:{clone:t.cloneStudy,closed:function(e){return t.hideStudyViewer()}}}):[n("studies",{ref:"studies",on:{study:t.selectStudy}}),n("v-divider",{staticClass:"mt-12"}),n("questionnaires")]],2)],1)],1)},a=[],r=i("9ab4"),o=i("60a3"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"studies"},[i("div",{staticClass:"text-h4 my-4"},[t._v("Studies")]),t.$store.state.studies.length?i("div",{staticClass:"d-flex flex-column"},t._l(t.$store.state.studies,(function(e){return i("v-btn",{key:e.id,domProps:{textContent:t._s(e.name)},on:{click:function(i){return t.show(e)}}})})),1):i("v-subheader",{staticClass:"red--text"},[t._v("No studies, click the button below to create a new one.")]),i("v-btn",{staticClass:"mt-4",attrs:{dark:"",color:"green"},on:{click:function(e){return t.createNew()}}},[t._v("Create new")]),t.editedStudy?i("v-dialog",{attrs:{value:!0,persistent:"","max-width":"640px"}},[i("study-editor",{staticClass:"pa-4",attrs:{study:t.editedStudy},on:{save:t.save,cancel:t.cancel}})],1):t._e()],1)},l=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"white"},[t.isAddingQuestionnaire?[i("questionnaire-editor",{attrs:{"study-id":t.study.id,"is-new":!0},on:{save:t.addQuestionnaire,cancel:t.hideEditor}})]:[i("div",{staticClass:"text-h5"},[t._v("Study editor")]),i("v-text-field",{attrs:{label:"Name",rules:t.nameRules},model:{value:t.study.name,callback:function(e){t.$set(t.study,"name",e)},expression:"study.name"}}),i("v-textarea",{attrs:{label:"Description"},model:{value:t.study.description,callback:function(e){t.$set(t.study,"description",e)},expression:"study.description"}}),i("div",{staticClass:"subtitle-1 text-left"},[t._v("Questionnaires")]),i("questionnaire-list",{attrs:{"study-id":t.study.id,ids:t.study.questionnaires},on:{add:t.addQuestionnaire}}),i("v-btn",{attrs:{block:"",dark:"",color:"green"},on:{click:function(e){return t.createQuestionnaire()}}},[t._v("Create new questionnaire")]),i("v-divider",{staticClass:"my-4"}),i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"mr-2",attrs:{rounded:"",dark:"",color:"green",disabled:!t.isValidStudy},on:{click:function(e){return t.save()}}},[t._v("Save")]),i("v-btn",{attrs:{rounded:"",dark:"",color:"red"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])],1)]],2)},d=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"questionnaire-list"},[t.ids.length?i("div",{staticClass:"text-left"},[i("v-chip-group",{attrs:{column:""}},[i("draggable",{attrs:{list:t.ids},on:{change:t.onSwapped}},t._l(t.ids,(function(e,n){return i("v-chip",{key:n,staticClass:"mr-2",class:{"font-italic":t.isPrivate(e)},attrs:{close:"",draggable:"",color:"primary",outlined:""},on:{"click:close":function(i){return t.remove(e)}}},[t._v(t._s(t.getName(e)))])})),1)],1)],1):i("v-subheader",{staticClass:"red--text"},[t._v("No questionnaires, select some existing from the list below or create a new one. ")]),i("div",{staticClass:"d-flex"},[i("v-select",{ref:"list",staticClass:"mb-2 text-left",attrs:{items:t.availableQuestionnaires,"item-text":"name","return-object":"",label:"Existing questionnaires"},on:{change:t.addQuestionnaire},model:{value:t.selectedQuestionnaire,callback:function(e){t.selectedQuestionnaire=e},expression:"selectedQuestionnaire"}})],1)],1)},m=[],f=i("b76a"),h=i.n(f),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedQuestionnaire=null,e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"availableQuestionnaires",{get:function(){var t=this;return this.$store.state.questionnaires.filter((function(e){return e.study===t.studyId||!e.study}))},enumerable:!1,configurable:!0}),e.prototype.addQuestionnaire=function(t){var e=this;t&&(this.$emit("add",t),this.$nextTick().then((function(){e.selectedQuestionnaire=null,e.$refs.list.blur()})))},e.prototype.isPrivate=function(t){var e=this.$store.state.questionnaires.find((function(e){return e.id===t}));return!!e.study},e.prototype.getName=function(t){var e=this.$store.state.questionnaires.find((function(e){return e.id===t}));return e.name},e.prototype.remove=function(t){var e=this.ids.findIndex((function(e){return e===t}));this.ids.splice(e,1)},e.prototype.onSwapped=function(t){if(t.moved){var e=this.ids[t.oldIndex];this.ids[t.oldIndex]=this.ids[t.newIndex],this.ids[t.newIndex]=e}},Object(r["a"])([Object(o["b"])({default:function(){return new Array}})],e.prototype,"ids",void 0),Object(r["a"])([Object(o["b"])({default:0})],e.prototype,"studyId",void 0),e=Object(r["a"])([Object(o["a"])({components:{draggable:h.a}})],e),e}(o["c"]),b=v,y=b,g=i("2877"),A=i("6544"),x=i.n(A),C=i("cc20"),w=i("ef9a"),_=i("b974"),k=i("e0c7"),S=Object(g["a"])(y,p,m,!1,null,null,null),q=S.exports;x()(S,{VChip:C["a"],VChipGroup:w["a"],VSelect:_["a"],VSubheader:k["a"]});var O,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"white"},[t.isEditingQuestion?[i("question-editor",{attrs:{"is-new":t.isNewQuestion,reference:t.editingQuestion},on:{save:t.addQuestion,cancel:t.hideEditor}})]:[i("div",{staticClass:"text-h5"},[t._v("Questionnaire editor")]),i("v-text-field",{attrs:{label:"Name",rules:t.nameRules},model:{value:t.questionnaire.name,callback:function(e){t.$set(t.questionnaire,"name",e)},expression:"questionnaire.name"}}),i("v-textarea",{attrs:{label:"Description"},model:{value:t.questionnaire.description,callback:function(e){t.$set(t.questionnaire,"description",e)},expression:"questionnaire.description"}}),i("v-switch",{attrs:{disabled:t.isPublicOnly,label:"public"},model:{value:t.isPublic,callback:function(e){t.isPublic=e},expression:"isPublic"}}),i("v-list",{attrs:{dense:""}},[i("div",{staticClass:"subtitle-1 text-left"},[t._v("Questions")]),t.questionnaire.items.length?i("draggable",{staticClass:"d-flex flex-column",attrs:{list:t.questionnaire.items},on:{change:t.onSwapped}},t._l(t.questionnaire.items,(function(e,n){return i("v-chip",{key:n,staticClass:"mt-1",attrs:{color:"primary",__unused__close:"",outlined:""},on:{"__unused__click:close":function(i){return t.remove(e)}}},[t._v(t._s(e.name)),e.isRequired?i("div",{staticClass:"red--text"},[t._v("*")]):t._e(),i("v-spacer",{staticClass:"ml-4"}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",color:"primary"},on:{click:function(i){return t.edit(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!0)},[i("span",[t._v("Edit")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",color:"primary"},on:{click:function(i){return t.clone(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-book-multiple")])],1)]}}],null,!0)},[i("span",[t._v("Clone")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",color:"primary"},on:{click:function(i){return t.remove(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-close-circle")])],1)]}}],null,!0)},[i("span",[t._v("Delete")])])],1)})),1):i("v-subheader",{staticClass:"red--text",domProps:{textContent:t._s("No questions, click the button below to add some.")}})],1),i("v-btn",{attrs:{block:"",dark:"",color:"green"},on:{click:function(e){return t.createNew()}}},[t._v("Add a question")]),i("v-divider",{staticClass:"my-4"}),i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"mr-2",attrs:{rounded:"",dark:"",color:"green",disabled:!t.isValidQuestionnaire},on:{click:function(e){return t.save()}}},[t._v("Save")]),i("v-btn",{attrs:{rounded:"",dark:"",color:"red"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])],1)]],2)},Q=[],E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"white"},[i("div",{staticClass:"text-h5"},[t._v("Question editor")]),i("v-text-field",{attrs:{label:"Name",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("v-switch",{attrs:{label:"required"},model:{value:t.isRequired,callback:function(e){t.isRequired=e},expression:"isRequired"}}),i("v-select",{staticClass:"text-left",attrs:{items:t.questionTypes,"item-text":"name","item-value":"index",type:"number","persistent-hint":"",label:"Type","single-line":""},on:{change:t.typeChanged},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),t.isText?[i("v-subheader",[t._v("Maximum length")]),i("v-slider",{attrs:{min:"0",max:"255","thumb-label":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("div",{staticClass:"ml-2"},[t._v(t._s(t.params.maxLength))])]},proxy:!0}],null,!1,4205596176),model:{value:t.params.maxLength,callback:function(e){t.$set(t.params,"maxLength",t._n(e))},expression:"params.maxLength"}})]:t._e(),t.isNumber||t.isScale?[i("v-slider",{staticClass:"mt-6",attrs:{min:t.isScale?-10:-1e3,max:t.params.max,label:"Min","thumb-label":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"ma-0 pa-0 mt-n2",staticStyle:{width:"90px"},attrs:{min:t.isScale?-10:-1e3,max:t.params.max,type:"number",solo:"",dense:""},model:{value:t.params.min,callback:function(e){t.$set(t.params,"min",t._n(e))},expression:"params.min"}})]},proxy:!0}],null,!1,2750559718),model:{value:t.params.min,callback:function(e){t.$set(t.params,"min",t._n(e))},expression:"params.min"}}),i("v-slider",{attrs:{min:t.params.min,max:t.isScale?20:1e3,label:"Max","thumb-label":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"ma-0 pa-0 mt-n2",staticStyle:{width:"90px"},attrs:{min:t.params.min,max:t.isScale?20:1e3,type:"number",solo:"",dense:""},model:{value:t.params.max,callback:function(e){t.$set(t.params,"max",t._n(e))},expression:"params.max"}})]},proxy:!0}],null,!1,2464014245),model:{value:t.params.max,callback:function(e){t.$set(t.params,"max",t._n(e))},expression:"params.max"}})]:t._e(),t.isChoice?[i("div",{staticClass:"subtitle-1 text-left"},[t._v("Options")]),i("v-list",{attrs:{dense:""}},[t.hasOptions?t._l(t.params.items,(function(e,n){return i("v-list-item",{key:n},[i("v-list-item-content",[i("v-chip",{attrs:{close:"",color:"primary",outlined:""},on:{"click:close":function(e){return t.removeOption(n)}}},[t._v(t._s(e))])],1)],1)})):i("v-subheader",{staticClass:"red--text",domProps:{textContent:t._s("No options, type some text into the box underneath and click the button to add")}})],2),i("div",{staticClass:"d-flex"},[i("v-text-field",{attrs:{solo:"",label:"new option",rules:t.optionRules},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}}),i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"green",disabled:""===t.option},on:{click:function(e){return t.addOption()}}},[i("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),i("v-switch",{attrs:{disabled:t.params.isMultiple,label:"as a drop-down list"},model:{value:t.params.asDropdownList,callback:function(e){t.$set(t.params,"asDropdownList",e)},expression:"params.asDropdownList"}})]:t._e(),t.isScale?[i("v-text-field",{attrs:{clearable:"",label:"Left label"},model:{value:t.params.labelLeft,callback:function(e){t.$set(t.params,"labelLeft",e)},expression:"params.labelLeft"}}),i("v-text-field",{attrs:{clearable:"",label:"Center label"},model:{value:t.params.labelCenter,callback:function(e){t.$set(t.params,"labelCenter",e)},expression:"params.labelCenter"}}),i("v-text-field",{attrs:{clearable:"",label:"Right label"},model:{value:t.params.labelRight,callback:function(e){t.$set(t.params,"labelRight",e)},expression:"params.labelRight"}}),i("v-switch",{attrs:{label:"as a slider"},model:{value:t.params.hasSlider,callback:function(e){t.$set(t.params,"hasSlider",e)},expression:"params.hasSlider"}})]:t._e(),i("v-divider",{staticClass:"my-4"}),i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"mr-2",attrs:{rounded:"",dark:"",color:"green",disabled:!t.isValidQuestion},on:{click:function(e){return t.save()}}},[t._v("Save")]),i("v-btn",{attrs:{rounded:"",dark:"",color:"red"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])],1)],2)},N=[];(function(t){t[t["None"]=0]="None",t[t["Text"]=1]="Text",t[t["Number"]=2]="Number",t[t["ChoiceOne"]=3]="ChoiceOne",t[t["ChoiceMultiple"]=4]="ChoiceMultiple",t[t["Scale"]=5]="Scale"})(O||(O={}));var V=function(){function t(t){var e,i,n,s,a;this.id=1e8+Math.round(99999999*Math.random()),this.name="",this.isRequired=!0,this.type=O.None,this.value=null,this.id=null!==(e=t.id)&&void 0!==e?e:this.id,this.name=null!==(i=t.name)&&void 0!==i?i:this.name,this.isRequired=null!==(n=t.isRequired)&&void 0!==n?n:this.isRequired,this.type=null!==(s=t.type)&&void 0!==s?s:this.type,this.type===O.ChoiceMultiple&&(this.value=[]),this.value=null!==(a=t.value)&&void 0!==a?a:this.value}return t.from=function(t){var e,i=null!==(e=t.type)&&void 0!==e?e:O.None;if(i===O.Text)return new R(t);if(i===O.Number)return new B(t);if(i===O.ChoiceOne)return new M(t);if(i===O.ChoiceMultiple)return new M(t);if(i===O.Scale)return new $(t);throw new Error("Question: unknown type")},Object.defineProperty(t.prototype,"isAnswered",{get:function(){return null!==this.value&&""!==this.value&&this.value!==Number.MIN_SAFE_INTEGER},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.name.length>0&&this.type!==O.None},enumerable:!1,configurable:!0}),t}(),I=V,R=function(t){function e(e){var i,n=t.call(this,e)||this;return n.maxLength=100,n.maxLength=null!==(i=e.maxLength)&&void 0!==i?i:n.maxLength,n}return Object(r["b"])(e,t),e}(V),B=function(t){function e(e){var i,n,s=t.call(this,e)||this;return s.min=Number.MIN_SAFE_INTEGER,s.max=Number.MAX_SAFE_INTEGER,s.min=null!==(i=e.min)&&void 0!==i?i:s.min,s.max=null!==(n=e.max)&&void 0!==n?n:s.max,s}return Object(r["b"])(e,t),e}(V),M=function(t){function e(e){var i,n,s,a=t.call(this,e)||this;return a.isMultiple=!1,a.asDropdownList=!1,a.items=[],a.isMultiple=null!==(i=e.isMultiple)&&void 0!==i?i:a.isMultiple,a.asDropdownList=null!==(n=e.asDropdownList)&&void 0!==n?n:a.asDropdownList,a.items=null!==(s=e.items)&&void 0!==s?s:a.items,a}return Object(r["b"])(e,t),e}(V),$=function(t){function e(e){var i,n,s,a,r,o,u=t.call(this,e)||this;return u.min=1,u.max=5,u.labelLeft="",u.labelCenter="",u.labelRight="",u.hasSlider=!1,u.min=null!==(i=e.min)&&void 0!==i?i:u.min,u.max=null!==(n=e.max)&&void 0!==n?n:u.max,u.labelLeft=null!==(s=e.labelLeft)&&void 0!==s?s:u.labelLeft,u.labelCenter=null!==(a=e.labelCenter)&&void 0!==a?a:u.labelCenter,u.labelRight=null!==(r=e.labelRight)&&void 0!==r?r:u.labelRight,u.hasSlider=null!==(o=e.hasSlider)&&void 0!==o?o:u.hasSlider,u}return Object(r["b"])(e,t),e}(V),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.type=O.None,e.isRequired=!0,e.params={maxLength:100,min:0,max:10,isMultiple:!1,asDropdownList:!1,items:[],labelLeft:"min",labelCenter:"",labelRight:"max",hasSlider:!1},e.questionTypes=[{index:O.Text,name:"text"},{index:O.Number,name:"number"},{index:O.ChoiceOne,name:"one choice"},{index:O.ChoiceMultiple,name:"multiple choices"},{index:O.Scale,name:"scale"}],e.option="",e.nameRules=[function(t){return!!t||"Required."},function(t){return t&&t.length>=2||"Min 2 characters"}],e.optionRules=[function(t){return!!t||"Required."}],e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"isValidQuestion",{get:function(){var t;return this.isChoice?this.name.length>0&&(null===(t=this.params.items)||void 0===t?void 0:t.length):this.name.length>0&&0!==this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasOptions",{get:function(){var t;return null===(t=this.params.items)||void 0===t?void 0:t.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isText",{get:function(){return this.type===O.Text},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNumber",{get:function(){return this.type===O.Number},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChoice",{get:function(){return this.type===O.ChoiceOne||this.type===O.ChoiceMultiple},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isScale",{get:function(){return this.type===O.Scale},enumerable:!1,configurable:!0}),e.prototype.addOption=function(){this.params.items.push(this.option),this.option=""},e.prototype.removeOption=function(t){this.params.items.splice(t,1)},e.prototype.create=function(t,e){var i;switch(t){case O.Text:i=new R(e);break;case O.Number:i=new B(e);break;case O.ChoiceOne:i=new M(e);break;case O.ChoiceMultiple:i=new M(e);break;case O.Scale:i=new $(e);break;default:throw new Error("Question: unknown type")}return i.name=this.name,i.isRequired=this.isRequired,i.type=this.type,this.isNew||(i.id=this.reference.id),i},e.prototype.save=function(){this.$emit("save",this.create(this.type,this.params))},e.prototype.cancel=function(){this.$emit("cancel")},e.prototype.typeChanged=function(){switch(this.type){case O.ChoiceOne:this.params.isMultiple=!1;break;case O.ChoiceMultiple:this.params.isMultiple=!0;break}},e.prototype.created=function(){var t,e,i,n,s,a,r,o,u,l;if(this.reference){this.name=this.reference.name,this.type=this.reference.type,this.isRequired=this.reference.isRequired;var c=this.reference;this.params={maxLength:null!==(t=c.maxLength)&&void 0!==t?t:this.params.maxLength,min:null!==(e=c.min)&&void 0!==e?e:this.params.min,max:null!==(i=c.max)&&void 0!==i?i:this.params.max,isMultiple:null!==(n=c.isMultiple)&&void 0!==n?n:this.params.isMultiple,asDropdownList:null!==(s=c.asDropdownList)&&void 0!==s?s:this.params.asDropdownList,items:null!==(a=c.items)&&void 0!==a?a:this.params.items,labelLeft:null!==(r=c.labelLeft)&&void 0!==r?r:this.params.labelLeft,labelCenter:null!==(o=c.labelCenter)&&void 0!==o?o:this.params.labelCenter,labelRight:null!==(u=c.labelRight)&&void 0!==u?u:this.params.labelRight,hasSlider:null!==(l=c.hasSlider)&&void 0!==l?l:this.params.hasSlider}}},Object(r["a"])([Object(o["b"])({default:null})],e.prototype,"reference",void 0),Object(r["a"])([Object(o["b"])({default:!1})],e.prototype,"isNew",void 0),e=Object(r["a"])([Object(o["a"])({components:{}})],e),e}(o["c"]),D=L,P=D,T=i("8336"),F=i("ce7e"),G=i("132d"),U=i("8860"),Y=i("da13"),K=i("5d23"),H=i("ba0d"),J=i("b73d"),Z=i("8654"),W=Object(g["a"])(P,E,N,!1,null,null,null),X=W.exports;x()(W,{VBtn:T["a"],VChip:C["a"],VDivider:F["a"],VIcon:G["a"],VList:U["a"],VListItem:Y["a"],VListItemContent:K["a"],VSelect:_["a"],VSlider:H["a"],VSubheader:k["a"],VSwitch:J["a"],VTextField:Z["a"]});var z=function(){function t(t){this.id=2e8+Math.round(99999999*Math.random()),this.description="",this.items=[],this.study=0,this.name=t}return t.from=function(e,i){var n,s,a,r;void 0===i&&(i=!1);var o=new t(null!==(n=e.name)&&void 0!==n?n:"");return i||(o.id=null!==(s=e.id)&&void 0!==s?s:o.id),o.description=null!==(a=e.description)&&void 0!==a?a:o.description,o.items=e.items?e.items.map((function(t){return I.from(t)})):o.items,o.study=null!==(r=e.study)&&void 0!==r?r:o.study,o},Object.defineProperty(t.prototype,"isValid",{get:function(){return this.items.length>0&&this.name.length>2},enumerable:!1,configurable:!0}),t.prototype.copyFrom=function(t,e){var i,n=this;void 0===e&&(e=!0),e&&(this.id=null!==(i=t.id)&&void 0!==i?i:this.id),this.name=t.name,this.description=t.description,t.items.forEach((function(t){return n.items.push(t)})),e&&(this.study=this.study)},t}(),tt=z,et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questionnaire=new tt(""),e.editingQuestion=null,e.isNewQuestion=!1,e.isEditingQuestion=!1,e.nameRules=[function(t){return!!t||"Required."},function(t){return t&&t.length>=3||"Min 3 characters"}],e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"isValidQuestionnaire",{get:function(){return this.questionnaire.isValid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPublic",{get:function(){return 0===this.questionnaire.study},set:function(t){this.questionnaire.study=t?0:this.studyId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPublicOnly",{get:function(){return 0===this.studyId},enumerable:!1,configurable:!0}),e.prototype.createNew=function(){this.isNewQuestion=!0,this.isEditingQuestion=!0},e.prototype.edit=function(t){this.isNewQuestion=!1,this.editingQuestion=t,this.isEditingQuestion=!0},e.prototype.clone=function(t){this.isNewQuestion=!0,this.editingQuestion=t,this.isEditingQuestion=!0},e.prototype.remove=function(t){var e=this.questionnaire.items.findIndex((function(e){return e===t}));this.questionnaire.items.splice(e,1)},e.prototype.addQuestion=function(t){if(this.isNewQuestion)this.questionnaire.items.push(t);else{var e=this.questionnaire.items.findIndex((function(e){return e.id===t.id}));e>=0&&(this.questionnaire.items[e]=t)}this.hideEditor()},e.prototype.hideEditor=function(){this.isEditingQuestion=!1,this.editingQuestion=null},e.prototype.save=function(){this.isNew?this.$store.commit("addQuestionnaire",this.questionnaire):this.$store.commit("replaceQuestionnaire",this.questionnaire),this.$store.dispatch("save"),this.$emit("save",this.questionnaire)},e.prototype.cancel=function(){this.$emit("cancel")},e.prototype.created=function(){this.reference&&this.questionnaire.copyFrom(this.reference,!this.isNew)},e.prototype.onSwapped=function(t){if(t.moved){var e=this.questionnaire.items,i=e[t.oldIndex];e[t.oldIndex]=e[t.newIndex],e[t.newIndex]=i}},Object(r["a"])([Object(o["b"])({default:0})],e.prototype,"studyId",void 0),Object(r["a"])([Object(o["b"])({default:null})],e.prototype,"reference",void 0),Object(r["a"])([Object(o["b"])({default:!1})],e.prototype,"isNew",void 0),e=Object(r["a"])([Object(o["a"])({components:{"question-editor":X,draggable:h.a}})],e),e}(o["c"]),it=et,nt=it,st=(i("1d38"),i("2fa4")),at=i("a844"),rt=i("3a2f"),ot=Object(g["a"])(nt,j,Q,!1,null,null,null),ut=ot.exports;x()(ot,{VBtn:T["a"],VChip:C["a"],VDivider:F["a"],VIcon:G["a"],VList:U["a"],VSpacer:st["a"],VSubheader:k["a"],VSwitch:J["a"],VTextField:Z["a"],VTextarea:at["a"],VTooltip:rt["a"]});var lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isAddingQuestionnaire=!1,e.nameRules=[function(t){return!!t||"Required."},function(t){return t&&t.length>=3||"Min 3 characters"}],e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"isValidStudy",{get:function(){return this.study.isValid},enumerable:!1,configurable:!0}),e.prototype.createQuestionnaire=function(){this.isAddingQuestionnaire=!0},e.prototype.addQuestionnaire=function(t){this.isAddingQuestionnaire=!1,this.study.questionnaires.push(t.id)},e.prototype.hideEditor=function(){this.isAddingQuestionnaire=!1},e.prototype.save=function(){this.$emit("save",this.study)},e.prototype.cancel=function(){this.$emit("cancel")},Object(r["a"])([Object(o["b"])({default:null})],e.prototype,"study",void 0),e=Object(r["a"])([Object(o["a"])({components:{"questionnaire-list":q,"questionnaire-editor":ut}})],e),e}(o["c"]),ct=lt,dt=ct,pt=Object(g["a"])(dt,c,d,!1,null,null,null),mt=pt.exports;x()(pt,{VBtn:T["a"],VDivider:F["a"],VTextField:Z["a"],VTextarea:at["a"]});var ft=function(){function t(t){this.name=t.name,void 0===t.value?this.answer="":Array.isArray(t.value)?this.answer=t.value.join(","):this.answer=""+t.value}return t}(),ht=function(){function t(t){this.name=t.name,this.questions=t.answers.map((function(t){return new ft(t)}))}return t}(),vt=function(){function t(t){this.name=t.name,this.questionnaires=t.questionnaires.map((function(t){return new ht(t)}))}return t}(),bt=function(){function t(t){this.name=t.name,this.participants=t.participants.map((function(t){return new vt(t)}))}return t.prototype.asCSV=function(t){if(0===this.participants.length)return"";var e=Object(r["c"])([""],this.participants[0].questionnaires.map((function(e){return Object(r["c"])([e.name],new Array(e.questions.length-1).map((function(t){return""}))).join(t)}))).join(t),i=Object(r["c"])(["name"],this.participants[0].questionnaires.map((function(e){return e.questions.map((function(t){return t.name})).join(t)}))).join(t);return Object(r["c"])([e,i],this.participants.map((function(e){return Object(r["c"])([e.name],e.questionnaires.map((function(e){return e.questions.map((function(t){return t.answer})).join(t)}))).join(t)}))).join("\r\n")},t}(),yt=bt,gt=function(){function t(t,e,i){var n;this.answers=[],this.id=t,this.name=null!==e&&void 0!==e?e:"",this.answers=null!==(n=null===i||void 0===i?void 0:i.map((function(t){return I.from(t)})))&&void 0!==n?n:this.answers}return t.from=function(e){var i=new t(e.id,e.name);return i.answers=e.answers?e.answers.map((function(t){return I.from(t)})):i.answers,i},t}(),At=function(){function t(t,e){this.id=4e8+Math.round(99999999*Math.random()),this.questionnaires=[],this.name=t,e&&(this.questionnaires=e.map((function(t){return new gt(t.id,t.name,t.items)})))}return t.from=function(e){var i,n=new t(null!==(i=e.name)&&void 0!==i?i:"--undefined--");return n.questionnaires=e.questionnaires?e.questionnaires.map((function(t){return gt.from(t)})):n.questionnaires,n},t}(),xt=At,Ct=function(){function t(){this.id=3e8+Math.round(99999999*Math.random()),this.name="",this.description="",this.questionnaires=[],this.participants=[]}return t.from=function(e,i){var n,s,a;void 0===i&&(i=!1);var r=new t;return i||(r.id=null!==(n=e.id)&&void 0!==n?n:r.id),r.name=null!==(s=e.name)&&void 0!==s?s:r.name,r.description=null!==(a=e.description)&&void 0!==a?a:r.description,r.questionnaires=e.questionnaires?e.questionnaires.map((function(t){return t})):r.questionnaires,i||(r.participants=e.participants?e.participants.map((function(t){return xt.from(t)})):r.participants),r},Object.defineProperty(t.prototype,"isValid",{get:function(){return this.questionnaires.length>0&&this.name.length>0},enumerable:!1,configurable:!0}),t.prototype.asCSV=function(t){return void 0===t&&(t="\t"),new yt(this).asCSV(t)},t.prototype.defaultValue=function(t){return t===O.ChoiceMultiple?[]:t===O.Number||t===O.Scale?Number.MIN_SAFE_INTEGER:""},t}(),wt=Ct,_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editedStudy=null,e}return Object(r["b"])(e,t),e.prototype.clone=function(t){this.editedStudy=wt.from(t,!0)},e.prototype.createNew=function(){this.editedStudy=new wt},e.prototype.save=function(t){this.editedStudy=null,this.$store.commit("addStudy",t),this.$store.dispatch("save")},e.prototype.cancel=function(){this.editedStudy=null},e.prototype.show=function(t){this.$emit("study",t)},e=Object(r["a"])([Object(o["a"])({components:{"study-editor":mt}})],e),e}(o["c"]),kt=_t,St=kt,qt=i("169a"),Ot=Object(g["a"])(St,u,l,!1,null,null,null),jt=Ot.exports;x()(Ot,{VBtn:T["a"],VDialog:qt["a"],VSubheader:k["a"]});var Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"questionnaires"},[i("div",{staticClass:"text-h4 my-4"},[t._v("Questionnaires")]),i("v-list",{attrs:{dense:""}},[t.$store.state.questionnaires.length?t._l(t.$store.state.questionnaires,(function(e){return i("v-list-item",{key:e.id},[i("v-list-item-content",[i("div",{staticClass:"d-flex justify-center"},[i("v-badge",{attrs:{"offset-y":"14",color:t.cannotUse(e)?"red":"primary",value:!!e.study,content:t.studies(e)}},[i("v-chip",{class:{red:t.isNotUsed(e)},staticStyle:{"min-width":"420px"},attrs:{color:"primary",__unused__close:t.isNotUsed(e),outlined:""},on:{"__unused__click:close":function(i){return t.remove(e)}}},[t._v(t._s(e.name)),i("v-spacer",{staticClass:"ml-4"}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",disabled:t.hasParticipants(e),color:"primary"},on:{click:function(i){return t.edit(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!0)},[i("span",[t._v("Edit")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",color:"primary"},on:{click:function(i){return t.clone(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-book-multiple")])],1)]}}],null,!0)},[i("span",[t._v("Clone")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-btn",t._g({attrs:{icon:"",disabled:!t.isNotUsed(e),color:"primary"},on:{click:function(i){return t.remove(e)}}},Object.assign({},s)),[i("v-icon",[t._v("mdi-close-circle")])],1)]}}],null,!0)},[i("span",[t._v("Delete")])])],1)],1)],1)])],1)})):i("v-subheader",{staticClass:"red--text",domProps:{textContent:t._s("No questionnaires")}}),i("v-btn",{staticClass:"mt-4",attrs:{dark:"",color:"green"},on:{click:function(e){return t.createNew()}}},[t._v("Create new")])],2),t.isEditingQuestionnaire?i("v-dialog",{attrs:{value:!0,persistent:"","max-width":"640px"}},[i("questionnaire-editor",{staticClass:"pa-4",attrs:{"study-id":0,reference:t.reference,"is-new":t.isCloning},on:{save:t.hideEditor,cancel:t.hideEditor}})],1):t._e()],1)},Et=[],Nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEditingQuestionnaire=!1,e.isCloning=!1,e.reference=null,e}return Object(r["b"])(e,t),e.prototype.studies=function(t){if(0===t.study)return"";var e=this.$store.state.studies.find((function(e){return e.id===t.study}));return e?e.name:"not used"},e.prototype.isNotUsed=function(t){return 0===t.study?!this.$store.state.studies.some((function(e){return e.questionnaires.some((function(e){return e===t.id}))})):!this.$store.state.studies.find((function(e){return e.id===t.study}))},e.prototype.hasParticipants=function(t){return this.$store.state.studies.some((function(e){return e.questionnaires.some((function(e){return e===t.id}))&&e.participants.length>0}))},e.prototype.cannotUse=function(t){return 0!==t.study&&!this.$store.state.studies.find((function(e){return e.id===t.study}))},e.prototype.edit=function(t){this.isCloning=!1,this.reference=t,this.isEditingQuestionnaire=!0},e.prototype.clone=function(t){this.isCloning=!0,this.reference=t,this.isEditingQuestionnaire=!0},e.prototype.remove=function(t){var e=!0;0===t.study&&(e=window.confirm("Are you sure to delete this questionnaire?")),e&&(this.$store.commit("deleteQuestionnaire",t),this.$store.dispatch("save"))},e.prototype.createNew=function(){this.isEditingQuestionnaire=!0},e.prototype.hideEditor=function(){this.isEditingQuestionnaire=!1,this.reference=null},e=Object(r["a"])([Object(o["a"])({components:{"questionnaire-editor":ut}})],e),e}(o["c"]),Vt=Nt,It=Vt,Rt=i("4ca6"),Bt=Object(g["a"])(It,Qt,Et,!1,null,null,null),Mt=Bt.exports;x()(Bt,{VBadge:Rt["a"],VBtn:T["a"],VChip:C["a"],VDialog:qt["a"],VIcon:G["a"],VList:U["a"],VListItem:Y["a"],VListItemContent:K["a"],VSpacer:st["a"],VSubheader:k["a"],VTooltip:rt["a"]});var $t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"study-viewer"},[i("div",{staticClass:"text-h4 my-4"},[t._v(t._s(t.header))]),t.isRunning?i("study-runner",{attrs:{"participant-name":t.participantName,study:t.study},on:{finished:t.finished}}):[i("v-container",[i("v-row",[i("v-col",{staticClass:"text-subtitle-1 font-weight-bold text-right",attrs:{md:"2"}},[t._v("Description:")]),i("v-col",{staticClass:"text-left"},[t._v(t._s(t.study.description))])],1),i("v-row",[i("v-col",{staticClass:"text-subtitle-1 font-weight-bold text-right",attrs:{md:"2"}},[t._v("Questionnaires:")]),i("v-col",{staticClass:"text-left"},[t._v(t._s(t.questList))])],1),i("v-row",[i("v-col",{staticClass:"text-subtitle-1 font-weight-bold text-right",attrs:{md:"2"}},[t._v("Participants:")]),i("v-col",{staticClass:"text-left"},[t._v(t._s(t.study.participants.length))])],1),i("v-row",[i("v-col",{staticClass:"text-subtitle-1 font-weight-bold text-right",attrs:{md:"2"}}),i("v-col",[i("div",{staticClass:"d-flex justify-space-between"},[i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:t.askName}},[t._v("Run")]),i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:t.clone}},[t._v("Clone")]),i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:t.save}},[t._v("Save to file")]),i("v-spacer"),i("v-btn",{staticClass:"mr-2",attrs:{dark:"",color:"red"},on:{click:t.del}},[t._v("Delete")]),i("v-spacer"),i("v-btn",{staticClass:"mr-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v("Return")])],1)])],1)],1)],i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.isAskingName,callback:function(e){t.isAskingName=e},expression:"isAskingName"}},[i("v-card",[i("v-card-title",[t._v("New participant")]),i("v-card-text",[i("v-text-field",{ref:"participantName",attrs:{label:"Name",rules:t.nameRules},model:{value:t.participantName,callback:function(e){t.participantName=e},expression:"participantName"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mr-2 px-4",attrs:{rounded:"",dark:"",color:"green",disabled:!t.isValidName},on:{click:function(e){return t.run()}}},[t._v("Start")]),i("v-btn",{staticClass:"px-4",attrs:{rounded:"",dark:"",color:"red"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])],1)],1)],1)],2)},Lt=[],Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"study-runner mx-auto"},t._l(t.participant.questionnaires,(function(e,n){return i("div",{key:e.id,staticClass:"questionnaire-viewer"},[n===t.questionnaireIndex?i("div",{staticClass:"questionnaire"},[i("div",{staticClass:"text-h5"},[t._v(t._s(t.name(e.id)))]),i("div",{staticClass:"text-subtitle-1 text-left my-5"},[t._v(t._s(t.description(e.id)))]),t._l(e.answers,(function(e,n){return i("div",{key:e.id,staticClass:"text-left"},[i("div",{staticClass:"text-subtitle-2 font-weight-black"},[t._v(t._s(n+1+".")+" "+t._s(e.name)),e.isRequired?i("div",{staticClass:"d-inline red--text pl-1"},[t._v("*")]):t._e()]),t.isText(e.type)?[e.maxLength>0?i("v-text-field",{attrs:{type:"text",outlined:"",dense:"",counter:e.maxLength,maxlength:e.maxLength},model:{value:e.value,callback:function(i){t.$set(e,"value","string"===typeof i?i.trim():i)},expression:"q.value"}}):i("v-textarea",{attrs:{outlined:"","auto-grow":"",rows:"3"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}})]:t.isNumber(e.type)?[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",min:e.min,max:e.max},model:{value:e.value,callback:function(i){t.$set(e,"value","string"===typeof i?i.trim():i)},expression:"q.value"}})]:t.isChoiceOne(e.type)?[e.asDropdownList?i("v-select",{attrs:{dense:"",outlined:"",items:e.items},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("div",{staticClass:"d-block"},[t._v(t._s(n))])]}}],null,!0),model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}}):i("v-radio-group",{staticClass:"mt-0",model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}},t._l(e.items,(function(t){return i("v-radio",{key:t,attrs:{label:t,value:t}})})),1)]:t.isChoiceMultiple(e.type)?i("div",{staticClass:"mb-4"},t._l(e.items,(function(n,s){return i("v-checkbox",{key:s,staticClass:"mt-0",attrs:{label:n,value:n},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}})})),1):t.isScale(e.type)?[i("v-flex",{staticClass:"flex-column"},[i("div",{staticClass:"d-flex justify-space-between",style:t.getScaleWidth(e.min,e.max)},[i("div",{staticClass:"d-inline-block"},[t._v(t._s(e.labelLeft))]),i("div",{staticClass:"d-inline-block"},[t._v(t._s(e.labelCenter))]),i("div",{staticClass:"d-inline-block"},[t._v(t._s(e.labelRight))])]),i("v-flex",{style:t.getScaleWidth(e.min,e.max)},[e.hasSlider?i("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[i("v-slider",{attrs:{min:e.min,max:e.max,ticks:"always","tick-size":"4","thumb-label":""},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}})],1):i("v-radio-group",{staticClass:"my-0",attrs:{row:""},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"q.value"}},t._l(t.range(e.min,e.max),(function(t){return i("v-radio",{key:t,staticClass:"ma-0 pa-0",attrs:{value:t}})})),1)],1)],1)]:t._e()],2)})),i("div",{staticClass:"d-flex"},[i("v-btn",{staticClass:"ml-2",attrs:{dark:"",color:"blue",disabled:t.hasEmptyRequired},on:{click:function(e){return t.next()}}},[t._v(" "+t._s(t.nextButtonLabel))]),i("v-spacer"),i("v-btn",{staticClass:"ml-2",attrs:{dark:"",color:"red"},on:{click:function(e){return t.interrupt()}}},[t._v("Interrupt")])],1)],2):t._e()])})),0)},Pt=[],Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.participant=null,e.questionnaireIndex=0,e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"hasEmptyRequired",{get:function(){var t,e=null===(t=this.participant)||void 0===t?void 0:t.questionnaires[this.questionnaireIndex];return null===e||void 0===e?void 0:e.answers.some((function(t){return!!t.isRequired&&!t.isAnswered}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextButtonLabel",{get:function(){var t,e;return this.questionnaireIndex<(null!==(e=null===(t=this.participant)||void 0===t?void 0:t.questionnaires.length)&&void 0!==e?e:0)-1?"Next":"Finish"},enumerable:!1,configurable:!0}),e.prototype.name=function(t){return this.$store.state.questionnaires.find((function(e){return e.id===t})).name},e.prototype.description=function(t){return this.$store.state.questionnaires.find((function(e){return e.id===t})).description},e.prototype.isText=function(t){return t===O.Text},e.prototype.isNumber=function(t){return t===O.Number},e.prototype.isChoiceOne=function(t){return t===O.ChoiceOne},e.prototype.isChoiceMultiple=function(t){return t===O.ChoiceMultiple},e.prototype.isScale=function(t){return t===O.Scale},e.prototype.range=function(t,e){for(var i=[],n=t;n<=e;n+=1)i.push(n);return i},e.prototype.getScaleWidth=function(t,e){return"width: "+36*(e-t+1)+"px; min-width: 500px"},e.prototype.next=function(){var t,e;this.questionnaireIndex<(null!==(e=null===(t=this.participant)||void 0===t?void 0:t.questionnaires.length)&&void 0!==e?e:0)-1?this.questionnaireIndex++:this.$emit("finished",this.participant)},e.prototype.interrupt=function(){this.$emit("finished")},e.prototype.created=function(){var t=this,e=this.study.questionnaires.map((function(e){var i=t.$store.state.questionnaires.find((function(t){return t.id===e}));return i}));this.participant=new xt(this.participantName,e)},Object(r["a"])([Object(o["b"])({default:null})],e.prototype,"study",void 0),Object(r["a"])([Object(o["b"])({default:""})],e.prototype,"participantName",void 0),e=Object(r["a"])([Object(o["a"])({components:{}})],e),e}(o["c"]),Ft=Tt,Gt=Ft,Ut=(i("4067"),i("f898"),i("ac7c")),Yt=i("a523"),Kt=i("0e8f"),Ht=i("67b6"),Jt=i("43a6"),Zt=Object(g["a"])(Gt,Dt,Pt,!1,null,"073a0f12",null),Wt=Zt.exports;x()(Zt,{VBtn:T["a"],VCheckbox:Ut["a"],VContainer:Yt["a"],VFlex:Kt["a"],VRadio:Ht["a"],VRadioGroup:Jt["a"],VSelect:_["a"],VSlider:H["a"],VSpacer:st["a"],VTextField:Z["a"],VTextarea:at["a"]});var Xt=function(){function t(){}return t.download=function(t,e){var i=new Blob([t],{type:"text/plain"}),n=document.createElement("a"),s=URL.createObjectURL(i);n.href=s,n.download=e,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(s)}),0)},t}(),zt=Xt,te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRunning=!1,e.isAskingName=!1,e.isShowingDeleteWarning=!1,e.participantName="",e.nameRules=[function(t){return!!t||"Required."},function(t){return t&&t.length>=2||"Min 2 characters"}],e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"header",{get:function(){return this.study.name+(this.participantName?" // "+this.participantName:"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"questList",{get:function(){var t=this;return this.study.questionnaires.map((function(e){var i,n=t.$store.state.questionnaires.find((function(t){return t.id===e}));return null!==(i=null===n||void 0===n?void 0:n.name)&&void 0!==i?i:"--"})).join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValidName",{get:function(){return this.participantName.length>1},enumerable:!1,configurable:!0}),e.prototype.askName=function(){var t=this;this.participantName="p"+(this.study.participants.length+1),this.isAskingName=!0,this.$nextTick((function(){t.$refs.participantName.focus()}))},e.prototype.run=function(){this.participantName&&(this.$store.commit("setStudyStatus",!0),this.isAskingName=!1,this.isRunning=!0)},e.prototype.cancel=function(){this.isAskingName=!1,this.participantName=""},e.prototype.clone=function(){this.$emit("clone",this.study)},e.prototype.save=function(){zt.download(this.study.asCSV(),this.study.name+".csv")},e.prototype.del=function(){window.confirm("Are you sure to delete this study?")&&(this.$store.commit("deleteStudy",this.study),this.$store.dispatch("save"),this.close())},e.prototype.close=function(){this.$emit("closed")},e.prototype.finished=function(t){this.$store.commit("setStudyStatus",!1),t&&(this.$store.commit("addParticipant",{participant:t,study:this.study}),this.$store.dispatch("save")),this.isRunning=!1,this.participantName=""},Object(r["a"])([Object(o["b"])({default:null})],e.prototype,"study",void 0),e=Object(r["a"])([Object(o["a"])({components:{"study-runner":Wt}})],e),e}(o["c"]),ee=te,ie=ee,ne=i("b0af"),se=i("99d9"),ae=i("62ad"),re=i("0fd9"),oe=Object(g["a"])(ie,$t,Lt,!1,null,null,null),ue=oe.exports;x()(oe,{VBtn:T["a"],VCard:ne["a"],VCardActions:se["a"],VCardText:se["b"],VCardTitle:se["c"],VCol:ae["a"],VContainer:Yt["a"],VDialog:qt["a"],VRow:re["a"],VSpacer:st["a"],VTextField:Z["a"]});var le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedStudy=null,e}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"isRunningStudy",{get:function(){return this.$store.state.isRunningStudy},enumerable:!1,configurable:!0}),e.prototype.selectStudy=function(t){this.selectedStudy=t},e.prototype.cloneStudy=function(t){var e=this;this.selectedStudy=null,this.$nextTick().then((function(){e.$refs.studies.clone(t)}))},e.prototype.hideStudyViewer=function(){this.selectedStudy=null},e.prototype.created=function(){this.$store.dispatch("connect","local")},e=Object(r["a"])([Object(o["a"])({components:{Studies:jt,Questionnaires:Mt,"study-viewer":ue}})],e),e}(o["c"]),ce=le,de=ce,pe=(i("7768"),i("7496")),me=i("40dc"),fe=i("adda"),he=i("f6c4"),ve=i("2a7f"),be=Object(g["a"])(de,s,a,!1,null,null,null),ye=be.exports;x()(be,{VApp:pe["a"],VAppBar:me["a"],VContainer:Yt["a"],VDivider:F["a"],VImg:fe["a"],VMain:he["a"],VSpacer:st["a"],VSubheader:k["a"],VToolbarTitle:ve["a"]});var ge,Ae=i("2f62");n["a"].use(Ae["a"]);var xe=new Ae["a"].Store({state:{isConnected:!1,isRunningStudy:!1,studies:[],questionnaires:[]},mutations:{setStudies:function(t,e){t.studies=[],e.forEach((function(e){return t.studies.push(wt.from(e))}))},addStudy:function(t,e){t.studies.push(e)},deleteStudy:function(t,e){var i=t.studies.indexOf(e);t.studies.splice(i,1)},setQuestionnaires:function(t,e){t.questionnaires=[],e.forEach((function(e){return t.questionnaires.push(tt.from(e))}))},addQuestionnaire:function(t,e){t.questionnaires.push(e)},deleteQuestionnaire:function(t,e){var i=t.questionnaires.indexOf(e);t.questionnaires.splice(i,1)},replaceQuestionnaire:function(t,e){var i=t.questionnaires.findIndex((function(t){return e.id===t.id}));i>=0&&(t.questionnaires[i]=e)},addParticipant:function(t,e){e.study.participants.push(e.participant)},setStudyStatus:function(t,e){t.isRunningStudy=e}},actions:{connect:function(t,e){var i=t.commit,n=t.state;if(!n.isConnected){if(ge=e,"local"!==ge)throw new Error("Storage: this URL is not supported");var s=localStorage.getItem("e-q");if(s){var a=JSON.parse(s);i("setStudies",a.studies),i("setQuestionnaires",a.questionnaires)}n.isConnected=!0}},save:function(t){t.commit;var e=t.state;"local"===ge&&localStorage.setItem("e-q",JSON.stringify({studies:e.studies,questionnaires:e.questionnaires}))}}}),Ce=xe,we=i("f309");n["a"].use(we["a"]);var _e=new we["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:Ce,vuetify:_e,render:function(t){return t(ye)}}).$mount("#app")},cf05:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAFDklEQVR42mL8//8/Az3A20n5BkDKAYgVgNgAj9ILMCycN/ECrd0FEECMtAwAoKdBHk4A4gAg5ifDiIdAvAGIF9AqMAACiCYBAPQ4yNMNQCxPRWMPgswEBsQBaroVIICoGgDQZD4BiO1pmGoXAnEBMCA+UMMwgACiWgAAPQ+K8XoG+oCPoGxFjdQAEEAUBwDQ4wLQfGrPQH+QCAyEBZQYABBAFAUA1POgWNBnGDhAUSAABBDTEPc8CMyHFrpkAYAAYhrinqc4EAACiNwUsGEQeR4GJkBrIZIAQACxkFnaU1rggRo4D9DEKDUT1NBaQKCViQEAAoikQhDasttPQdU1Adqqe4AjWwVQoQHVCDS/gVjFAAFEagA8INNxE6GtuA9E2lMADQh+MgPaAFsgYwMAAcREYtKXJ8MxgUDHkNRyA6qdAO04fSQzKxCdAgACiKgUAE2eD0iMEZDjHSjpxEALtQNkpgRBYgIdIICITQEFZDgigNIeHFS/A5naiaoWAQKIlAAgtSCiSq8NGgiNtAoAgAAimAWAyRBUMq8nweKLQEcbMFAZkFkAKxIqDAECiIlaIYkEGhhoAzaQoYdg9gEIICZqGILcwAGG+AYaBQA5HR6CKREggJiIaPjw0ziWSCkLqB4AAAHERMXYZ4BWWYMJEAwAgABiodQANPCB2j6AtkEcoM1kchpFeAFAABEKAAV6RBM0q8ECXACJpvkoE0AAEQoAUru8DUDPHCAQoApIbPmBziMAAcRCZfPsGQZmbJBsABBATAwjHAAE0HAPgIuEFAAE0HAPAIKtUoAAGs4BMJGYVilAALEMM0+DxhpBLcYJxPZGAQKIZQjm6Q9QfAG59Ulu9xsggFiICFFa19UHsTSlkT34gNjxPXIAQAARCgBS++DIw90PkNjIHmKg9hQ3JQAggAgFwAUSGzYbQAOgQylPAQQQExEBQAoIGGJlCgNAABEKAFKTqjxSx2ZIAIAAYiIwCPEAmq+p2vgYTAAggIhpCJE6ymMPndmhGwCNGQDxBSD+AB0/IBoABBAxAbCADDf1o09XA/lgTKOxhAfQrjtoAGQCKfoBAojYmaEDZHZzMVZvkBMIQDOwxjo0u2EzUJHYtgNAABEbAKDYnE9Bm7wAj9nkeD6BAf8s8kKgvgRiHAcQQETPDlOQCmANpARcDSB8gQALADKmz4lKBQABREoAgPLafgqz7EFombIB28QlloBAHhAldbUpUakAIIBIXR8wAUeeIzcwcLUzjIBYjoHyZTgEUwFAAJHaG2yAxgg11gfRY/wwgVC7BCCASBoQgSZbUFL8yDA0AME2DEAAkTwiBE1SDkMgEBKJmU4DCCCyhsSQFi4MxkD4yEDC6lGAAKJ0qawBtFTXH0SeJ2lZDkAAUTQoipQSFg4Cz28EYgVSZ5EBAoiay+UDoO1w+QGI9QRy1yUABBDVd4zQaLcILo+DAnwCJZsnAAKIZnuGoAEBShX+VDb6ItTjG6ixawQggBhpvWsMaX7fFYhtgFiPDA9fgLYaD1B7hBgggBjptW0OKUD+gezFo6QLiLcz0Hg4HAYAAmggJkYYCciDqrFyejkGIIAGYm5wDwF5M2AqSaSXYwACaLBOjlaROrZHLgAIoIEIgHtEqFEB4hn0cAxAAA3WAACBcGAqKKO1YwACaDCWAcigExgIabR0DEAA0T0AgCX8WRIDoYOW7gEIoIFaHxAGxMTE7HsgXk1LhwAEGACJW6soKo2QNwAAAABJRU5ErkJggg=="},f898:function(t,e,i){"use strict";i("86bb")},fc86:function(t,e,i){}});
//# sourceMappingURL=app.ee5b5724.js.map